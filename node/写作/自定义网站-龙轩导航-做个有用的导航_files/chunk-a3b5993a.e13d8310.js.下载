(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-a3b5993a"],{"0520":function(t,e,a){"use strict";a("9a62")},"084b":function(t,e,a){},"161c":function(t,e,a){"use strict";var s=a("5530"),i=(a("99af"),a("ac1f"),a("00b4"),a("b0c0"),a("f478")),o=a("64ad"),n=a("b264"),r=a("5880"),c={name:"ModyfySite",components:{VipDialog:o.a,AddCate:n.a},data:function(){return{loadingData:!0,isGetInfo:!1,hasAddCat:!1,dialogAddCate:!1,saveLoading:!1,categoryData:null,ruleForm:{url:"",name:"",classify_id:void 0},rules:{url:[{required:!0,message:"请输入网站地址",trigger:"change"}],name:[{required:!0,message:"请输入网站名称",trigger:"change"}],classify_id:[{required:!0,message:"请选择所属分类",trigger:"change"}]},showVipDialog:!1,vipAlert:void 0}},computed:Object(s.a)({},Object(r.mapGetters)(["encryptPass"])),created:function(){this.initData()},methods:{initData:function(){this.getCategory()},closeDialog:function(){this.hasAddCat?this.$emit("close",1):this.$emit("close")},getCategory:function(t){var e=this;if(this.encryptPass){var a={password:this.encryptPass};Object(i.j)(a).then((function(a){var s=a.data;e.categoryData=[{id:-1,name:"+ 添加分类"}],e.categoryData=e.categoryData.concat(s),(t||0===t)&&(e.ruleForm.classify_id=t),e.loadingData=!1}))}else Object(i.m)().then((function(a){var s=a.data;e.categoryData=[{id:-1,name:"+ 添加分类"}],e.categoryData=e.categoryData.concat(s),(t||0===t)&&(e.ruleForm.classify_id=t),e.loadingData=!1}))},closeVipDialog:function(){this.showVipDialog=!1},handleSelectValue:function(t){-1===t&&(this.dialogAddCate=!0)},closeAddCate:function(t){t||-1!==this.ruleForm.classify_id||(this.ruleForm.classify_id=void 0),t&&(this.hasAddCat=!0,this.getCategory(t.id)),this.dialogAddCate=!1},isUrlValid:function(){return!!/^((https?|ftp|file):\/\/)([\da-z.-]+)\.([a-z.]{2,6})(\/\w\.-]*)*\/?/.test(this.ruleForm.url)||(this.$refs.url.focus(),!1)},getSiteInfo:function(){var t=this;if(this.isUrlValid()){this.isGetInfo=!0;var e={url:this.ruleForm.url};Object(i.n)(e).then((function(e){var a=e.data.title;t.ruleForm.name=a,t.isGetInfo=!1})).catch((function(){t.isGetInfo=!1}))}else this.$message.error("请输入正确的网址，格式如：http://ilxdh.com")},submitAddForm:function(t){var e=this;this.saveLoading=!0,this.$refs[t].validate((function(t){if(!t)return e.saveLoading=!1,!1;Object(i.b)(e.ruleForm).then((function(t){if(200030===t.error_code||200026===t.error_code)return e.saveLoading=!1,e.vipAlert=t.msg,void(e.showVipDialog=!0);e.$message({message:"添加成功",type:"success"}),e.saveLoading=!1,e.$emit("close",1)})).catch((function(){e.saveLoading=!1}))}))}}},l=(a("ef04"),a("ef20"),a("2877")),d=Object(l.a)(c,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"add-site-container"},[a("el-dialog",{attrs:{visible:!0,title:"添加网站","close-on-click-modal":!1},on:{close:t.closeDialog}},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingData,expression:"loadingData"}],ref:"addsiteForm",staticClass:"mofidy-form",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"90px"}},[a("el-form-item",{staticClass:"clearfix",attrs:{label:"网站地址",prop:"url"}},[a("el-input",{ref:"url",staticClass:"fl",staticStyle:{width:"66%"},attrs:{placeholder:"请输入网站地址"},model:{value:t.ruleForm.url,callback:function(e){t.$set(t.ruleForm,"url",e)},expression:"ruleForm.url"}}),a("el-button",{staticClass:"fr get-site-info",staticStyle:{width:"30%"},attrs:{loading:t.isGetInfo,type:"warning"},on:{click:t.getSiteInfo}},[t._v("抓取信息")])],1),a("el-form-item",{attrs:{label:"网站名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入网站名称"},model:{value:t.ruleForm.name,callback:function(e){t.$set(t.ruleForm,"name",e)},expression:"ruleForm.name"}})],1),a("el-form-item",{attrs:{label:"所属分类",prop:"classify_id"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择 / 添加分类","popper-class":"modifySite-select-down"},on:{change:t.handleSelectValue},model:{value:t.ruleForm.classify_id,callback:function(e){t.$set(t.ruleForm,"classify_id",e)},expression:"ruleForm.classify_id"}},t._l(t.categoryData,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}},[a("span",{staticStyle:{float:"left"}},[t._v(t._s(e.name))]),a("span",{staticStyle:{float:"right"}},[1===e.is_encryption?a("el-tag",{attrs:{type:"danger",size:"mini"}},[t._v("加密分类")]):t._e()],1)])})),1)],1),a("el-form-item",{staticClass:"save-add-btns"},[a("el-button",{attrs:{type:"primary",loading:t.saveLoading},on:{click:function(e){return t.submitAddForm("addsiteForm")}}},[t._v("确定添加")]),a("el-button",{on:{click:t.closeDialog}},[t._v("取消")])],1)],1)],1),t.dialogAddCate?a("add-cate",{on:{close:t.closeAddCate}}):t._e(),t.showVipDialog?a("vip-dialog",{attrs:{"alert-info":t.vipAlert},on:{close:t.closeVipDialog}}):t._e()],1)}),[],!1,null,"62939fc7",null);e.a=d.exports},2226:function(t,e,a){"use strict";var s=a("5530"),i=a("5880"),o={name:"Contact",methods:Object(s.a)(Object(s.a)({},Object(i.mapMutations)({showWxPublic:"user/showWxPublic",showContact:"user/showContact"})),{},{showWxDia:function(){this.showWxPublic()},showContactDia:function(){this.showContact()}})},n=(a("2cc4"),a("2877")),r=Object(n.a)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"footer-container"},[a("div",{staticClass:"contact"},[a("router-link",{attrs:{to:"/friendshiplinks",target:"_blank"}},[t._v("友情链接")]),a("span",{staticClass:"sep"}),a("a",{attrs:{href:"https://www.yuque.com/u534451/enxniv",target:"_blank",rel:"noopener"}},[t._v("常见问题")]),a("span",{staticClass:"sep"}),a("router-link",{attrs:{to:"/message",target:"_blank"}},[t._v("留言板")]),a("span",{staticClass:"sep"}),a("a",{attrs:{href:"javascript:;"},on:{click:t.showWxDia}},[t._v(" 公众号 ")]),a("span",{staticClass:"sep"}),a("a",{attrs:{href:"https://weibo.com/longxuandaohang",target:"_blank",rel:"noopener nofollow"}},[t._v(" 微博 ")]),a("span",{staticClass:"sep"}),a("a",{attrs:{href:"/disclaimers",target:"_blank",rel:"noopener"}},[t._v(" 免责声明/版权 ")]),a("span",{staticClass:"sep"}),a("a",{attrs:{href:"javascript:;"},on:{click:t.showContactDia}},[t._v(" 联系我们（合作/反馈） ")])],1),t._m(0)])}),[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"copyright"},[a("a",{attrs:{href:"http://beian.miit.gov.cn/",target:"_blank",rel:"noopener nofollow"}},[t._v(" 版权所有©2020 龙轩导航 蜀ICP备16031024号-2 ")]),a("span",{staticClass:"disclaimer"},[t._v("本站仅提供网址导航服务，所指向的链接均为第三方网站，对其内容不负任何责任，详见“免责声明/版权”页面。")])])}],!1,null,"7bef6b66",null);e.a=r.exports},2347:function(t,e,a){},"247e":function(t,e,a){"use strict";var s=(a("b0c0"),a("d3b7"),a("159b"),a("7db0"),a("99af"),{props:{curData:{type:Array,default:function(){return[]}}},data:function(){return{value:[],filterMethod:function(t,e){return e.name.indexOf(t)>-1},siteData:[],copyText:"",copyData:[]}},watch:{curData:{immediate:!0,deep:!0,handler:function(t){this.siteData=this._.cloneDeep(t)}}},methods:{handleChange:function(t){this.copyData=t,this.getCopyText()},getCopyText:function(){var t=this,e=[];this.copyData.forEach((function(a){var s=t.siteData.find((function(t){return t.id===a}));e.push(s)})),this.copyText="",e.forEach((function(e){t.copyText+="".concat(e.name,"：").concat(e.web_url.url,"\n")}))},closeDialog:function(){this.$emit("close")},onCopy:function(){this.$alert("复制成功，请粘贴到想要分享的地方。","提示",{confirmButtonText:"确定"})},onError:function(){this.$message.error("复制失败")}}}),i=(a("69af"),a("bcbe"),a("2877")),o=Object(i.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"share-site-container"},[a("el-dialog",{attrs:{visible:!0,title:"分享网站","close-on-click-modal":!1},on:{close:t.closeDialog}},[a("p",{staticClass:"share-alert"},[t._v("请将要分享的网站，筛选后，移动到右侧区域")]),a("el-transfer",{attrs:{filterable:"",titles:["网站列表","待分享"],props:{key:"id",label:"name"},"filter-method":t.filterMethod,"filter-placeholder":"搜索网站名",data:t.siteData},on:{change:t.handleChange},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}),t.copyData&&t.copyData.length?a("div",{staticClass:"do-btns"},[a("p",[t._v("分享文本预览")]),a("el-input",{attrs:{autosize:{minRows:2,maxRows:4},type:"textarea",placeholder:"分享预览"},model:{value:t.copyText,callback:function(e){t.copyText=e},expression:"copyText"}}),a("div",{staticClass:"copy-btn"},[a("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.copyText,expression:"copyText",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],attrs:{type:"primary",size:"medium",icon:"el-icon-document-copy"}},[t._v("一键复制")])],1)],1):t._e()],1)],1)}),[],!1,null,"64905506",null);e.a=o.exports},"281a":function(t,e,a){},"2cc4":function(t,e,a){"use strict";a("5965")},"324f":function(t,e,a){"use strict";a("de2b")},"4df1":function(t,e,a){"use strict";(function(t){var s=a("5530"),i=(a("b680"),a("e9c4"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("9861"),a("99af"),a("ac1f"),a("00b4"),a("b0c0"),a("d81d"),a("159b"),a("e3303")),o=a("64ad"),n=a("8730"),r=a("f1f2"),c=a("2226"),l=a("6fa2"),d=a("f478"),u=a("c579"),f=a("161c"),m=a("b264"),h=a("9558"),g=a("247e"),p=a("caad"),v=a("5a0c"),y=a.n(v),b=a("b76a"),C=a.n(b),S=a("5880");e.a={name:"Diy",components:{ContentLoader:i.a,Contact:c.a,ModifySite:u.a,AddSite:f.a,AddCate:m.a,ModifyCate:h.a,draggable:C.a,VipDialog:o.a,CreatePass:n.a,InputPass:r.a,ShareSelect:g.a},data:function(){return{loadingContent:!1,bannerData:null,scrollDistanceSign:330,diffDays:"-",showDiffDays:!1,showOverVip:!1,showVipDialog:!1,showCreatePassDialog:!1,showInputPassDialog:!1,vipAlert:void 0,showSortAlert:!1,curSite:null,saveLoading:!1,getInfoLoading:!1,saveSortLoading:!1,addForm:{url:"",name:"",describe:"",classify_id:void 0,weight:0},categoryOptions:[],curSiteData:null,curCateData:null,diySitesData:[],dialogModify:!1,dialogAddSite:!1,dialogAddCate:!1,dialogModifyCate:!1,dialogShareSelect:!1,modifyStatus:!1,deleteStatus:!1,sortStatus:!1,draggingTopCate:!1,draggingSite:!1,draggingCate:!1,showFixedEditBtns:!1,overTimeAlert:"",topSearchInput:"",isFold:!0,activedCateId:void 0,allStickyHeight:200,bigScreen:!0,curShareData:[]}},computed:Object(s.a)({},Object(S.mapGetters)(["memberData","encryptPass"])),activated:function(){this.fetchData(),this.getCategory()},created:function(){this.isBigScreen(),this.bindEvent(),this.setOverTimeAlert(),this.getBanner(),this.checkVip(),this.bindScroll()},methods:Object(s.a)(Object(s.a)(Object(s.a)({},Object(S.mapMutations)({changeEncryptPass:"user/changeEncryptPass"})),Object(S.mapActions)({getInfo:"user/getInfo"})),{},{isBigScreen:function(){t(window).width()<1600?(this.bigScreen=!1,this.allStickyHeight=156):(this.bigScreen=!0,this.allStickyHeight=200)},bindEvent:function(){t(window).on("resize",this._.throttle(this.isBigScreen,100))},setOverTimeAlert:function(){this.overTimeAlert=Object(p.b)(this.memberData.last_member_expire)},getBanner:function(){var e=this;Object(d.l)().then((function(a){0!==a.data.length?(t(window).width()>1600?e.scrollDistanceSign=330:e.scrollDistanceSign=250,e.bannerData=a.data[0]):t(window).width()>1600?e.scrollDistanceSign=190:e.scrollDistanceSign=140}))},checkVip:function(){var t=this;if(1===this.memberData.is_member){var e=y()(Object(p.a)()),a=y()(this.memberData.member_expire);this.diffDays=parseFloat((a.diff(e)/864e5).toFixed(2)),this.diffDays>0&&this.diffDays<=5?this.showDiffDays=!0:this.diffDays<=0&&(this.showOverVip=!0,this.$storejs.get("hasReadOverVip")||this.$alert("请注意，这是您赞助会员到期后的首次登录，赞助会员自动延长至：".concat(this.overTimeAlert,"，该日期后加密分类将无法浏览（数据会保留，不用担心），请及时处理加密分类或继续赞助我们，感谢您的支持。"),"重要说明",{confirmButtonText:"知道了，已仔细阅读并了解。",showClose:!1,type:"warning",callback:function(e){t.$storejs.set("hasReadOverVip",!0)}}))}},closeVipDialog:function(){this.showVipDialog=!1},closeCreatePassDialog:function(t){t&&this.getInfo(),this.showCreatePassDialog=!1},closeInputPassDialog:function(t){t&&(this.getCategory(),this.fetchData()),this.showInputPassDialog=!1},scrollFun:function(){for(var e=t(document).scrollTop(),a=t(".diy-content").children(".item"),s=a.length-1;s>=0;s--){var i=a.eq(s).offset().top;if(e+this.allStickyHeight>=i){var o=parseInt(a.eq(s).attr("id"));this.activedCateId=o;break}}},bindScroll:function(){t(window).off("scroll").on("scroll",this._.throttle(this.scrollFun,100))},fetchData:function(){var t=this;if(this.loadingContent=!0,this.encryptPass){var e={password:this.encryptPass};Object(d.k)(e).then((function(e){var a="{}"===JSON.stringify(e.data)?[]:e.data;t.diySitesData=a,t.activedCateId=a[0].id,t.loadingContent=!1})).catch((function(){t.loadingContent=!1}))}else Object(d.o)().then((function(e){var a="{}"===JSON.stringify(e.data)?[]:e.data;t.diySitesData=a,t.activedCateId=a[0].id,t.loadingContent=!1})).catch((function(){t.loadingContent=!1}))},getSiteIcon:function(t,e){if(e)return e;if(t){var a=new URL("".concat(t));return"".concat(a.protocol,"//").concat(a.host,"/favicon.ico")}},getCategory:function(t){var e=this;if(this.encryptPass){var a={password:this.encryptPass};Object(d.j)(a).then((function(a){var s=a.data;e.categoryOptions=[{id:-1,name:"+ 添加分类"}],e.categoryOptions=e.categoryOptions.concat(s),(t||0===t)&&(e.addForm.classify_id=t)}))}else Object(d.m)().then((function(a){var s=a.data;e.categoryOptions=[{id:-1,name:"+ 添加分类"}],e.categoryOptions=e.categoryOptions.concat(s),(t||0===t)&&(e.addForm.classify_id=t)}))},handleSelectValue:function(t){-1===t&&(this.dialogAddCate=!0)},isUrlValid:function(){return!!/^((https?|ftp|file):\/\/)([\da-z.-]+)\.([a-z.]{2,6})(\/\w\.-]*)*\/?/.test(this.addForm.url)||(this.$refs.url.focus(),!1)},getSiteInfo:function(){var t=this;if(this.isUrlValid()){this.getInfoLoading=!0;var e={url:this.addForm.url};Object(d.n)(e).then((function(e){var a=e.data.title;t.addForm.name=a,t.getInfoLoading=!1})).catch((function(){t.getInfoLoading=!1}))}else this.$message.error("请输入正确的网址，格式如：http://ilxdh.com")},saveData:function(){if(this.isUrlValid())return Object(l.b)(this.addForm.name)?this.addForm.classify_id||0===this.addForm.classify_id?void this.doAddSite():(this.$message.error("请选择正确的分类"),void this.$refs.classify.focus()):(this.$message.error("请输入正确的网站名称"),void this.$refs.name.focus());this.$message.error("请输入正确的网址，格式如：http://ilxdh.com")},doAddSite:function(){var t=this;this.saveLoading=!0,Object(d.b)(this.addForm).then((function(e){if(200030===e.error_code||200026===e.error_code)return t.saveLoading=!1,t.vipAlert=e.msg,void(t.showVipDialog=!0);t.$message({message:"添加成功",type:"success"}),t.fetchData(),t.resetStatus(),t.saveLoading=!1})).catch((function(){t.saveLoading=!1}))},resetStatus:function(){this.addForm.url="",this.addForm.name="",this.addForm.describe="",this.addForm.classify_id=void 0},changeModifyStatus:function(t){0!==this.diySitesData.length?1===t?this.modifyStatus=!0:0===t&&(this.modifyStatus=!1):this.$message({message:"请先添加自定义网站",type:"warning"})},modifySite:function(t){this.curSiteData=t,this.dialogModify=!0},closeModify:function(t){t&&(this.fetchData(),this.getCategory()),this.dialogModify=!1},showAddSiteDia:function(){this.dialogAddSite=!0},closeAddSite:function(t){t&&this.fetchData(),this.dialogAddSite=!1},closeAddCate:function(t){-1===this.addForm.classify_id&&(this.addForm.classify_id=void 0),t&&(this.getCategory(t.id),this.fetchData()),this.dialogAddCate=!1},changeDeleteStatus:function(t){0!==this.diySitesData.length?1===t?this.deleteStatus=!0:0===t&&(this.deleteStatus=!1):this.$message({message:"请先添加自定义网站",type:"warning"})},deleteSite:function(t){var e=this;this.$confirm("此操作无法恢复，确定删除‘".concat(t.name,"’？"),"注意",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var a={id:t.id};Object(d.g)(a).then((function(){e.fetchData(),e.$message({type:"success",message:"删除成功!"})})).catch((function(){}))})).catch((function(){}))},changeSortStatus:function(t){var e=this;0!==this.diySitesData.length?(this.sortStatus=!0,this.showSortAlert=!0,setTimeout((function(){e.showSortAlert=!1}),2500)):this.$message({message:"请先添加自定义网站",type:"warning"})},saveSortData:function(){this.saveSortLoading=!0,this.handleSortCategory()},handleSortCategory:function(){var t=this,e={sort:this.diySitesData.map((function(t,e){return{id:t.id,weight:1e3-e}}))};Object(d.h)(e).then((function(){t.getCategory(),t.handleSortDiySites()})).catch((function(){t.saveSortLoading=!1}))},handleSortDiySites:function(){var t=this,e=this.diySitesData.map((function(t){return t.site.map((function(e,a){return{id:e.id,weight:1e4-a,classify_id:t.id,original_class_id:e.classify_id}}))})),a=[];e.forEach((function(t){a=a.concat(t)}));var s={sort:a};Object(d.i)(s).then((function(e){if(200026===e.error_code)return t.saveSortLoading=!1,t.vipAlert="排序后某分类下的网站数量超限，排序失败\n成为赞助会员可解除限制",void(t.showVipDialog=!0);t.$message({type:"success",message:"排序成功!"}),t.fetchData(),t.saveSortLoading=!1,t.sortStatus=!1})).catch((function(){t.saveSortLoading=!1}))},modifyCate:function(t){this.curCateData=t,this.dialogModifyCate=!0},closeModifyCate:function(t){t&&(this.getCategory(),this.fetchData()),this.dialogModifyCate=!1},deleteCate:function(t){var e=this;this.$confirm("此操作无法恢复，确定删除分类‘".concat(t.name,"’？"),"注意",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var a={id:t.id,is_force_del:!1};Object(d.f)(a).then((function(){e.getCategory(),e.fetchData(),e.$message({type:"success",message:"删除成功!"})})).catch((function(){}))})).catch((function(){}))},encrypeCate:function(t,e){var a=this;if(1===this.memberData.is_set_class_password){var s=1===e?"保障隐私，是否加密保护该分类？":"分类解密后，此分类将失去加密保障，确定解密该分类？",i=1===e?"加密成功!":"该分类已解密!";this.$confirm(s,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var s={id:t,is_encryption:e};Object(d.p)(s).then((function(t){a.$message({type:"success",message:i}),a.getCategory(),a.fetchData()}))})).catch((function(){}))}else this.showCreatePassDialog=!0},showEncrypt:function(){this.showInputPassDialog=!0},showNormalData:function(){this.changeEncryptPass(!1),this.getCategory(),this.fetchData(),this.$message({message:"退出成功",type:"success"})},doExpand:function(e){if(1===e){var a=this.bigScreen?46*Math.ceil(this.diySitesData.length/10):36*Math.ceil(this.diySitesData.length/10);t(".diy-cates-container").css("height",a+"px"),this.allStickyHeight=this.bigScreen?154+a:120+a,this.isFold=!1}else{var s=this.bigScreen?"46px":"36px";t(".diy-cates-container").css("height",s),this.allStickyHeight=this.bigScreen?200:156,this.isFold=!0}},toggleCate:function(t){this.scrollToSmallCat(t)},scrollToSmallCat:function(e){var a=t("#".concat(e)).offset().top-this.allStickyHeight+"px";t("html, body").animate({scrollTop:a},{duration:250,easing:"swing"})},querySearch:function(t,e){var a=this,s={name:t};Object(d.e)(s).then((function(t){t&&t.data.length?a.handleSearchResults(t.data,e):e([{value:"无搜索结果"}])})).catch((function(t){e([{value:"搜索出错"}])}))},handleSearchResults:function(t,e){var a=this,s=t.map((function(t){var e=t.class.name;return 1!==t.class.is_encryption||a.encryptPass||(e="加密分类"),{value:t.name,id:t.id,url:t.web_url.url,classId:t.class.id,className:e,classIsEncryption:t.class.is_encryption}}));e(s)},handleSelectSearch:function(t){var e=t.url;this.openInWindow(e)},openInWindow:function(t){window.open("about:blank").location.href=t},shareSites:function(t){var e=t.site;e&&e.length?this.showShareSelectDia(e):this.$message.error("未找到有效数据，无法分享")},showShareSelectDia:function(t){this.curShareData=t,this.dialogShareSelect=!0},closeShareSelect:function(){this.dialogShareSelect=!1}})}}).call(this,a("1157"))},"56ea":function(t,e,a){"use strict";a("2347")},5965:function(t,e,a){},"602a":function(t,e,a){},"69af":function(t,e,a){"use strict";a("fe19")},"6c40":function(t,e,a){},"788b":function(t,e,a){"use strict";a("084b")},7968:function(t,e,a){"use strict";a("8cd7")},8730:function(t,e,a){"use strict";var s=a("f478"),i={name:"CreatePass",data:function(){return{saveLoading:!1,createForm:{password:"",repassword:""},rules:{password:[{required:!0,message:"请创建密码",trigger:"change"},{min:6,max:16,message:"密码长度：6~16",trigger:"change"}],repassword:[{required:!0,message:"请确认密码",trigger:"change"},{min:6,max:16,message:"密码长度：6~16",trigger:"change"}]}}},created:function(){var t=this;this.$nextTick((function(){t.$refs.inputWords.focus()}))},methods:{closeDialog:function(){this.$emit("close")},submitForm:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return!1;e.createForm.password===e.createForm.repassword?(e.saveLoading=!0,Object(s.q)(e.createForm).then((function(t){e.$message({message:"设置成功，请记忆保管好您的密码。",type:"success",duration:0,showClose:!0}),e.saveLoading=!1,e.$emit("close",1)})).catch((function(){e.saveLoading=!1}))):e.$message.error("两次输入的密码不一致，请修正")}))}}},o=(a("c966"),a("7968"),a("2877")),n=Object(o.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"create-pass-container"},[a("el-dialog",{staticClass:"create-pass-dialog",attrs:{visible:!0,"lock-scroll":!1,"show-close":!1},on:{close:t.closeDialog}},[a("div",{staticClass:"content-container clearfix"},[a("div",{staticClass:"banner fl"},[a("img",{attrs:{src:"/images/diy/create_pass.png"}}),a("div",{staticClass:"desc"},[a("p",{staticClass:"title"},[t._v("加密分类")]),a("p",{staticClass:"sm-title"},[t._v("加密自定义分类，隐私性、安全性得到保障")])])]),a("div",{staticClass:"details fr"},[a("p",[t._v("您好，由于您是第一次使用加密分类功能，请先创建进入加密分类的密码，请牢记。")]),a("div",{staticClass:"create-container"},[a("el-form",{ref:"createPassForm",staticClass:"create-pass-form",attrs:{model:t.createForm,rules:t.rules,"label-width":"90px"}},[a("el-form-item",{attrs:{label:"创建密码",prop:"password"}},[a("el-input",{ref:"inputWords",attrs:{type:"password",placeholder:"请创建密码"},model:{value:t.createForm.password,callback:function(e){t.$set(t.createForm,"password",e)},expression:"createForm.password"}})],1),a("el-form-item",{attrs:{label:"确认密码",prop:"repassword"}},[a("el-input",{attrs:{type:"password",placeholder:"请确认密码"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submitForm("createPassForm")}},model:{value:t.createForm.repassword,callback:function(e){t.$set(t.createForm,"repassword",e)},expression:"createForm.repassword"}})],1),a("el-form-item",{staticClass:"confirm-create"},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:0===t.createForm.repassword.length||0===t.createForm.password.length,expression:"createForm.repassword.length === 0 || createForm.password.length === 0 "}],attrs:{disabled:"",type:"info"}},[t._v("确认创建")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.createForm.repassword.length>0&&t.createForm.password.length>0,expression:"createForm.repassword.length > 0 && createForm.password.length > 0"}],attrs:{loading:t.saveLoading,type:"primary"},on:{click:function(e){return t.submitForm("createPassForm")}}},[t._v("确认创建")])],1)],1)],1)])])])],1)}),[],!1,null,"4e9d1763",null);e.a=n.exports},"8cd7":function(t,e,a){},9558:function(t,e,a){"use strict";var s=(a("b0c0"),a("f478")),i={name:"ModifyCate",props:{cateData:{type:Object,required:!0}},data:function(){return{curCateData:null,saveLoading:!1,ruleForm:{name:""},rules:{name:[{required:!0,message:"请输入分类名称",trigger:"change"}]}}},created:function(){this.curCateData=Object.assign({},this.cateData),this.ruleForm.id=this.curCateData.id,this.ruleForm.name=this.curCateData.name},methods:{closeDialog:function(){this.$emit("close")},submitModifyForm:function(t){var e=this;this.saveLoading=!0,this.$refs[t].validate((function(t){if(!t)return e.saveLoading=!1,!1;Object(s.a)(e.ruleForm).then((function(t){e.$message({message:"修改成功",type:"success"}),e.saveLoading=!1,e.$emit("close",1)})).catch((function(){e.saveLoading=!1}))}))}}},o=(a("ed9b"),a("2877")),n=Object(o.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modify-cate-container"},[a("el-dialog",{attrs:{visible:!0,title:"修改分类","close-on-click-modal":!1},on:{close:t.closeDialog}},[a("el-form",{ref:"mofidyForm",staticClass:"mofidy-form",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"90px"}},[a("el-form-item",{attrs:{label:"分类名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入网站名称"},model:{value:t.ruleForm.name,callback:function(e){t.$set(t.ruleForm,"name",e)},expression:"ruleForm.name"}})],1),a("el-form-item",{staticClass:"save-modify-btns"},[a("el-button",{attrs:{type:"primary",size:"medium",loading:t.saveLoading},on:{click:function(e){return t.submitModifyForm("mofidyForm")}}},[t._v("保存修改")]),a("el-button",{attrs:{size:"medium"},on:{click:t.closeDialog}},[t._v("取消")])],1)],1)],1)],1)}),[],!1,null,null,null);e.a=n.exports},9756:function(t,e,a){},"9a62":function(t,e,a){},"9ed3f":function(t,e,a){"use strict";a("602a")},a38d:function(t,e,a){"use strict";a.r(e);var s=a("4df1").a,i=(a("bc4d"),a("9ed3f"),a("2877")),o=Object(i.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"diy-container"},[t.bannerData?a("a",{staticClass:"top-banner",attrs:{href:t.bannerData.url,target:"_blank",rel:"noopener"}},[a("img",{attrs:{src:t.bannerData.images_url}})]):t._e(),a("div",{staticClass:"top-container top-sticky"},[a("div",{staticClass:"clearfix top-btns-container"},[a("div",{staticClass:"clearfix add-sites-cates fl"},[t.sortStatus?t._e():a("el-button",{staticClass:"add-sites-or-cates fl",attrs:{disabled:t.sortStatus,type:"primary"},on:{click:t.showAddSiteDia}},[t._v("+ 添加网站 / 分类")]),t.sortStatus?t._e():a("el-autocomplete",{ref:"searchInput",staticClass:"search-diy-site fl",attrs:{"fetch-suggestions":t.querySearch,placeholder:"搜索自定义网站","prefix-icon":"el-icon-search",debounce:200,"trigger-on-focus":!1,"select-when-unmatched":!1},on:{select:t.handleSelectSearch},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.item;return[a("span",{staticClass:"text-ellip",staticStyle:{float:"left","max-width":"100px"}},[t._v(t._s(s.value))]),s.id?a("span",{staticStyle:{float:"right"}},[1===s.classIsEncryption?a("el-tag",{attrs:{type:"warning",size:"mini"}},[a("i",{staticClass:"el-icon-lock"}),t._v(" "+t._s(s.className))]):a("el-tag",{attrs:{type:"info",size:"mini"}},[t._v(t._s(s.className))])],1):t._e()]}}],null,!1,3527815899),model:{value:t.topSearchInput,callback:function(e){t.topSearchInput=e},expression:"topSearchInput"}})],1),a("div",{staticClass:"clearfix alert-infos fl"},[t.sortStatus?a("el-alert",{staticClass:"fl alert-sort",attrs:{title:"提示：某些扩展/插件可能会导致“拖拽排序”出现问题，请关闭对应扩展/插件。",type:"warning","show-icon":"",closable:!1}}):t._e(),!t.sortStatus&&t.encryptPass&&t.bigScreen?a("el-alert",{staticClass:"fl has-show-allcat",attrs:{title:"提示：当前处于解密状态，已显示全部分类。",type:"warning","show-icon":"",closable:!1}}):t._e()],1),a("div",{staticClass:"do-sites-btns fr"},[t.encryptPass?a("el-button",{staticClass:"quitEncryption",staticStyle:{"margin-left":"10px"},attrs:{size:"medium",type:"danger",plain:"",disabled:t.sortStatus||t.modifyStatus||t.deleteStatus},on:{click:t.showNormalData}},[t._v("退出解密状态")]):t._e(),t.memberData&&1===t.memberData.is_member&&1===t.memberData.is_set_class_password&&!t.encryptPass?a("el-tooltip",{staticStyle:{outline:"none"},attrs:{effect:"dark",content:"显示加密分类，进入解密状态",placement:"left"}},[a("span",{staticClass:"show-encrypt",on:{click:t.showEncrypt}})]):t._e(),a("el-button",{directives:[{name:"show",rawName:"v-show",value:!t.modifyStatus&&!t.deleteStatus&&!t.sortStatus,expression:"!modifyStatus && !deleteStatus && !sortStatus"}],staticClass:"btn delete-btn",attrs:{type:"primary",icon:"el-icon-delete"},on:{click:function(e){return t.changeDeleteStatus(1)}}},[t._v("删除")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.modifyStatus||t.sortStatus,expression:"modifyStatus || sortStatus"}],staticClass:"btn delete-btn disabled",attrs:{type:"primary",icon:"el-icon-delete",disabled:""}},[t._v("删除")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.deleteStatus,expression:"deleteStatus"}],staticClass:"finish finish-delete",attrs:{type:"primary"},on:{click:function(e){return t.changeDeleteStatus(0)}}},[t._v("完成")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:!t.modifyStatus&&!t.deleteStatus&&!t.sortStatus,expression:"!modifyStatus && !deleteStatus && !sortStatus"}],staticClass:"btn sort-btn",attrs:{type:"primary",icon:"el-icon-sort"},on:{click:t.changeSortStatus}},[t._v("排序")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.modifyStatus||t.deleteStatus,expression:"modifyStatus || deleteStatus"}],staticClass:"btn sort-btn disabled",attrs:{type:"primary",icon:"el-icon-sort",disabled:""}},[t._v("排序")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.sortStatus,expression:"sortStatus"}],staticClass:"finish finish-sort",attrs:{loading:t.saveSortLoading,type:"primary"},on:{click:t.saveSortData}},[t._v("保存排序")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:!t.modifyStatus&&!t.deleteStatus&&!t.sortStatus,expression:"!modifyStatus && !deleteStatus && !sortStatus"}],staticClass:"btn modify-btn",attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(e){return t.changeModifyStatus(1)}}},[t._v("修改")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.deleteStatus||t.sortStatus,expression:"deleteStatus || sortStatus"}],staticClass:"btn modify-btn disabled",attrs:{type:"primary",icon:"el-icon-edit",disabled:""}},[t._v("修改")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.modifyStatus,expression:"modifyStatus"}],staticClass:"finish finish-modify",attrs:{type:"primary"},on:{click:function(e){return t.changeModifyStatus(0)}}},[t._v("完成")])],1)]),t.loadingContent?a("div",{staticClass:"top-cate-loader"},[a("content-loader",{attrs:{height:32,width:1300,speed:1,"primary-color":"#F7F9FB","secondary-color":"#F7F9FB"}},[a("rect",{attrs:{x:"0",y:"0",rx:"0",ry:"0",width:"110",height:"32"}}),a("rect",{attrs:{x:"125",y:"0",rx:"0",ry:"0",width:"110",height:"32"}}),a("rect",{attrs:{x:"250",y:"0",rx:"0",ry:"0",width:"110",height:"32"}}),a("rect",{attrs:{x:"375",y:"0",rx:"0",ry:"0",width:"110",height:"32"}}),a("rect",{attrs:{x:"500",y:"0",rx:"0",ry:"0",width:"110",height:"32"}}),a("rect",{attrs:{x:"625",y:"0",rx:"0",ry:"0",width:"110",height:"32"}}),a("rect",{attrs:{x:"750",y:"0",rx:"0",ry:"0",width:"110",height:"32"}}),a("rect",{attrs:{x:"875",y:"0",rx:"0",ry:"0",width:"110",height:"32"}}),a("rect",{attrs:{x:"1000",y:"0",rx:"0",ry:"0",width:"110",height:"32"}}),a("rect",{attrs:{x:"1125",y:"0",rx:"0",ry:"0",width:"110",height:"32"}})])],1):t._e(),t.loadingContent?t._e():a("div",{class:[t.isFold?"diy-cates-fold":"","diy-cates-container"]},[a("draggable",{staticClass:"clearfix left-cates",attrs:{group:"diyTopCate",animation:170,disabled:!t.sortStatus,"ghost-class":"move-diy-cate"},on:{start:function(e){t.draggingTopCate=!0}},model:{value:t.diySitesData,callback:function(e){t.diySitesData=e},expression:"diySitesData"}},t._l(t.diySitesData,(function(e){return a("div",{key:e.id,class:[t.activedCateId===e.id?"active":"",t.sortStatus?"move-cate":"","cate-item","fl"]},[a("a",{staticClass:"text-ellip",attrs:{href:"javascript:;"},on:{click:function(a){return t.toggleCate(e.id)}}},[t._v(t._s(e.name))]),t.modifyStatus?a("div",{staticClass:"top-edit-site",attrs:{title:"修改分类"},on:{click:function(a){return t.modifyCate(e)}}},[a("i",{staticClass:"el-icon-edit"})]):t._e(),t.deleteStatus?a("div",{staticClass:"top-delete-site",attrs:{title:"删除分类"},on:{click:function(a){return t.deleteCate(e)}}},[a("i",{staticClass:"el-icon-delete"})]):t._e(),t.modifyStatus||t.deleteStatus||!t.encryptPass||1!==e.is_encryption?t._e():a("div",{staticClass:"top-decrypt-cate",attrs:{title:"解密分类"},on:{click:function(a){return t.encrypeCate(e.id,0)}}},[a("i",{staticClass:"el-icon-unlock"})])])})),0),t.diySitesData.length>10?a("div",{staticClass:"right-do-btn"},[a("p",{directives:[{name:"show",rawName:"v-show",value:t.isFold,expression:"isFold"}],on:{click:function(e){return t.doExpand(1)}}},[t._v("展开 "),a("i",{staticClass:"el-icon-arrow-down"})]),a("p",{directives:[{name:"show",rawName:"v-show",value:!t.isFold,expression:"!isFold"}],on:{click:function(e){return t.doExpand(2)}}},[t._v("收起 "),a("i",{staticClass:"el-icon-arrow-up"})])]):t._e()],1)]),t.loadingContent||0!==t.diySitesData.length?t._e():a("div",{staticClass:"no-results"},[a("p",[t._v("暂无自定义网站")])]),a("draggable",{staticClass:"diy-content",class:t.sortStatus?"move-cate":"",attrs:{group:"diyCate",animation:170,disabled:!t.sortStatus,"ghost-class":"move-diy-cate"},on:{start:function(e){t.draggingCate=!0}},model:{value:t.diySitesData,callback:function(e){t.diySitesData=e},expression:"diySitesData"}},t._l(t.diySitesData,(function(e){return a("div",{key:e.id,staticClass:"item",attrs:{id:e.id}},[a("div",{staticClass:"nav"},[a("div",{staticClass:"nav-left"},[a("h3",{staticClass:"text-ellip"},[t._v(t._s(e.name))]),t.deleteStatus?a("div",{staticClass:"edit-item delete-cate",on:{click:function(a){return t.deleteCate(e)}}},[a("img",{attrs:{src:"/images/diy/delete.svg",alt:"删除分类"}})]):t._e(),t.modifyStatus?a("div",{staticClass:"edit-item modify-cate",on:{click:function(a){return t.modifyCate(e)}}},[a("img",{attrs:{src:"/images/diy/edit.svg",alt:"编辑分类"}})]):t._e()]),a("div",{staticClass:"nav-right"},[t.memberData?a("div",{staticClass:"share-sites",on:{click:function(a){return t.shareSites(e)}}},[a("span",{staticClass:"iconfont share-icon"},[t._v("")])]):t._e(),t.memberData?t._e():a("div",{directives:[{name:"islogin",rawName:"v-islogin"}],staticClass:"encrypt"},[a("span")]),t.memberData&&0===t.memberData.is_member?a("div",{directives:[{name:"isvip",rawName:"v-isvip",value:{alert:"分类加密能有效保障隐私性\n成为赞助会员后可使用"},expression:"{alert:`分类加密能有效保障隐私性\\n成为赞助会员后可使用`}"}],staticClass:"encrypt"},[a("span")]):t._e(),t.memberData&&1===t.memberData.is_member&&0===e.is_encryption?a("div",{staticClass:"encrypt",on:{click:function(a){return t.encrypeCate(e.id,1)}}},[a("span")]):t._e(),t.memberData&&1===t.memberData.is_member&&1===e.is_encryption?a("div",{staticClass:"encrypt no_encrypt",on:{click:function(a){return t.encrypeCate(e.id,0)}}},[a("span")]):t._e()])]),a("draggable",{staticClass:"clearfix details",attrs:{group:"diySites",animation:170,disabled:!t.sortStatus,"ghost-class":"move-diy-site"},on:{start:function(e){t.draggingSite=!0}},model:{value:e.site,callback:function(a){t.$set(e,"site",a)},expression:"item.site"}},t._l(e.site,(function(e){return a("a",{key:e.id,staticClass:"site fl",class:t.sortStatus?"move-site":"",attrs:{href:e.web_url&&e.web_url.url||"javascript:;",target:"_blank",rel:"nofollow noopener"}},[a("el-image",{attrs:{src:t.getSiteIcon(e.web_url&&e.web_url.url,e.images_url),lazy:""}},[a("div",{staticClass:"image-slot",staticStyle:{"text-align":"center"},attrs:{slot:"error"},slot:"error"},[a("img",{attrs:{src:"/images/default_site_icon.png"}})])]),a("span",{staticClass:"name text-ellip"},[t._v(t._s(e.name))]),t.deleteStatus?a("div",{staticClass:"edit-item delete-site",on:{click:function(a){return a.preventDefault(),t.deleteSite(e)}}},[a("img",{attrs:{src:"/images/diy/delete.svg",alt:"删除网站"}})]):t._e(),t.sortStatus?a("div",{staticClass:"edit-item sort-site",on:{click:function(a){return a.preventDefault(),t.sortSite(e.id)}}},[a("img",{attrs:{src:"/images/diy/sort.svg",alt:"排序"}})]):t._e(),t.modifyStatus?a("div",{staticClass:"edit-item modify-site",on:{click:function(a){return a.preventDefault(),t.modifySite(e)}}},[a("img",{attrs:{src:"/images/diy/edit.svg",alt:"编辑网站"}})]):t._e()],1)})),0)],1)})),0),a("contact"),t.dialogModify?a("modify-site",{attrs:{"category-data":t.categoryOptions,"site-data":t.curSiteData},on:{close:t.closeModify}}):t._e(),t.dialogAddSite?a("add-site",{on:{close:t.closeAddSite}}):t._e(),t.dialogAddCate?a("add-cate",{on:{close:t.closeAddCate}}):t._e(),t.dialogModifyCate?a("modify-cate",{attrs:{"cate-data":t.curCateData},on:{close:t.closeModifyCate}}):t._e(),t.showVipDialog?a("vip-dialog",{attrs:{"alert-info":t.vipAlert},on:{close:t.closeVipDialog}}):t._e(),t.showCreatePassDialog?a("CreatePass",{on:{close:t.closeCreatePassDialog}}):t._e(),t.showInputPassDialog?a("InputPass",{on:{close:t.closeInputPassDialog}}):t._e(),t.loadingContent?a("div",{staticClass:"loading-container"},[t._m(0)]):t._e(),t.dialogShareSelect?a("share-Select",{attrs:{"cur-data":t.curShareData},on:{close:t.closeShareSelect}}):t._e()],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"lds-ellipsis"},[e("div"),e("div"),e("div"),e("div")])}],!1,null,"f9990aba",null);e.default=o.exports},b264:function(t,e,a){"use strict";var s=a("f478"),i={name:"AddCate",components:{VipDialog:a("64ad").a},data:function(){return{vipAlert:void 0,showVipDialog:!1,saveLoading:!1,cateForm:{name:"",weight:0},cateFormRules:{name:[{required:!0,message:"请输入分类名称",trigger:"change"}]}}},methods:{closeVipDialog:function(){this.showVipDialog=!1},closeDialog:function(){this.$emit("close")},submitAddCateForm:function(t){var e=this;this.saveLoading=!0,this.$refs[t].validate((function(t){if(!t)return e.saveLoading=!1,!1;Object(s.a)(e.cateForm).then((function(t){if(200025===t.error_code||200029===t.error_code)return e.saveLoading=!1,e.vipAlert=t.msg,void(e.showVipDialog=!0);var a=parseInt(t.data.class_id);e.saveLoading=!1,e.$emit("close",{id:a})})).catch((function(){e.saveLoading=!1}))}))}}},o=(a("788b"),a("2877")),n=Object(o.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"add-diy-cate-container"},[a("el-dialog",{attrs:{visible:!0,title:"添加分类","close-on-click-modal":!1},on:{close:t.closeDialog}},[a("el-form",{ref:"addCateForm",attrs:{model:t.cateForm,rules:t.cateFormRules,"label-width":"90px"}},[a("el-form-item",{attrs:{label:"分类名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入分类名称"},model:{value:t.cateForm.name,callback:function(e){t.$set(t.cateForm,"name",e)},expression:"cateForm.name"}})],1),a("el-form-item",{staticClass:"save-btns"},[a("el-button",{attrs:{type:"primary",size:"medium",loading:t.saveLoading},on:{click:function(e){return t.submitAddCateForm("addCateForm")}}},[t._v("确定添加")]),a("el-button",{attrs:{size:"medium"},on:{click:t.closeDialog}},[t._v("取消")])],1)],1)],1),t.showVipDialog?a("vip-dialog",{attrs:{"alert-info":t.vipAlert},on:{close:t.closeVipDialog}}):t._e()],1)}),[],!1,null,null,null);e.a=n.exports},b751:function(t,e,a){},bc4d:function(t,e,a){"use strict";a("281a")},bcbe:function(t,e,a){"use strict";a("e3eb")},be07:function(t,e,a){},c579:function(t,e,a){"use strict";var s=a("5530"),i=(a("b0c0"),a("99af"),a("f478")),o=a("64ad"),n=a("b264"),r=a("5880"),c={name:"ModyfySite",components:{VipDialog:o.a,AddCate:n.a},props:{categoryData:{type:Array,required:!0},siteData:{type:Object,required:!0}},data:function(){return{hasAddCat:!1,dialogAddCate:!1,curSiteData:null,curCategoryData:[],saveLoading:!1,ruleForm:{url:"",name:"",describe:"",classify_id:void 0,weight:void 0},rules:{url:[{required:!0,message:"请输入网站地址",trigger:"change"}],name:[{required:!0,message:"请输入网站名称",trigger:"change"}],classify_id:[{required:!0,message:"请选择网站分类",trigger:"change"}]},showVipDialog:!1,vipAlert:void 0}},computed:Object(s.a)({},Object(r.mapGetters)(["encryptPass"])),created:function(){this.curSiteData=Object.assign({},this.siteData),this.curCategoryData=Object.assign([],this.categoryData),this.ruleForm.id=this.curSiteData.id,this.ruleForm.url=this.curSiteData.web_url.url,this.ruleForm.name=this.curSiteData.name,this.ruleForm.classify_id=this.curSiteData.classify_id,this.ruleForm.weight=this.curSiteData.weight},methods:{closeDialog:function(){this.hasAddCat?this.$emit("close",1):this.$emit("close")},getCategory:function(t){var e=this;if(this.encryptPass){var a={password:this.encryptPass};Object(i.j)(a).then((function(a){var s=a.data;e.curCategoryData=[{id:-1,name:"+ 添加分类"}],e.curCategoryData=e.curCategoryData.concat(s),(t||0===t)&&(e.ruleForm.classify_id=t)}))}else Object(i.m)().then((function(a){var s=a.data;e.curCategoryData=[{id:-1,name:"+ 添加分类"}],e.curCategoryData=e.curCategoryData.concat(s),(t||0===t)&&(e.ruleForm.classify_id=t)}))},closeVipDialog:function(){this.showVipDialog=!1},handleSelectValue:function(t){-1===t&&(this.dialogAddCate=!0)},closeAddCate:function(t){-1===this.ruleForm.classify_id&&(this.ruleForm.classify_id=this.curSiteData.classify_id),t&&(this.hasAddCat=!0,this.getCategory(t.id)),this.dialogAddCate=!1},submitModifyForm:function(t){var e=this;this.saveLoading=!0,this.$refs[t].validate((function(t){if(!t)return e.saveLoading=!1,!1;e.curSiteData.classify_id!==e.ruleForm.classify_id&&(e.ruleForm.weight=0,e.ruleForm.change_classify=1),Object(i.b)(e.ruleForm).then((function(t){if(200030===t.error_code||200026===t.error_code)return e.saveLoading=!1,e.vipAlert=t.msg,void(e.showVipDialog=!0);e.$message({message:"修改成功",type:"success"}),e.saveLoading=!1,e.$emit("close",1)})).catch((function(){e.saveLoading=!1}))}))}}},l=(a("324f"),a("2877")),d=Object(l.a)(c,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modify-site-container"},[a("el-dialog",{attrs:{visible:!0,title:"修改网站","close-on-click-modal":!1},on:{close:t.closeDialog}},[a("el-form",{ref:"mofidyForm",staticClass:"mofidy-form",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"90px"}},[a("el-form-item",{attrs:{label:"网站地址",prop:"url"}},[a("el-input",{attrs:{placeholder:"请输入网站地址"},model:{value:t.ruleForm.url,callback:function(e){t.$set(t.ruleForm,"url",e)},expression:"ruleForm.url"}})],1),a("el-form-item",{attrs:{label:"网站名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入网站名称"},model:{value:t.ruleForm.name,callback:function(e){t.$set(t.ruleForm,"name",e)},expression:"ruleForm.name"}})],1),a("el-form-item",{attrs:{label:"网站分类",prop:"classify_id"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择分类","popper-class":"modifySite-select-down"},on:{change:t.handleSelectValue},model:{value:t.ruleForm.classify_id,callback:function(e){t.$set(t.ruleForm,"classify_id",e)},expression:"ruleForm.classify_id"}},t._l(t.curCategoryData,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}},[a("span",{staticStyle:{float:"left"}},[t._v(t._s(e.name))]),a("span",{staticStyle:{float:"right"}},[1===e.is_encryption?a("el-tag",{attrs:{type:"danger",size:"mini"}},[t._v("加密分类")]):t._e()],1)])})),1)],1),a("el-form-item",{staticClass:"save-modify-btns"},[a("el-button",{attrs:{type:"primary",size:"medium",loading:t.saveLoading},on:{click:function(e){return t.submitModifyForm("mofidyForm")}}},[t._v("保存修改")]),a("el-button",{attrs:{size:"medium"},on:{click:t.closeDialog}},[t._v("取消")])],1)],1)],1),t.dialogAddCate?a("add-cate",{on:{close:t.closeAddCate}}):t._e(),t.showVipDialog?a("vip-dialog",{attrs:{"alert-info":t.vipAlert},on:{close:t.closeVipDialog}}):t._e()],1)}),[],!1,null,null,null);e.a=d.exports},c966:function(t,e,a){"use strict";a("9756")},caad:function(t,e,a){"use strict";a.d(e,"b",(function(){return o})),a.d(e,"a",(function(){return n}));var s=a("5a0c"),i=a.n(s);function o(t){return i()(t).format("YYYY-M-D")}function n(){return function(t){var e=new Date,a=e.getTime(),s=6e4*e.getTimezoneOffset();return new Date(a+s+36e5*t)}(8)}},de2b:function(t,e,a){},e3eb:function(t,e,a){},ed9b:function(t,e,a){"use strict";a("6c40")},ef04:function(t,e,a){"use strict";a("b751")},ef20:function(t,e,a){"use strict";a("be07")},f1f2:function(t,e,a){"use strict";var s=a("5530"),i=a("f478"),o=a("5880"),n={name:"CreatePass",data:function(){return{saveLoading:!1,confirmForm:{password:""},rules:{password:[{required:!0,message:"请输入密码",trigger:"change"},{min:6,max:16,message:"密码长度：6~16",trigger:"change"}]}}},created:function(){var t=this;this.$nextTick((function(){t.$refs.inputPass.focus()}))},methods:Object(s.a)(Object(s.a)({},Object(o.mapMutations)({changeEncryptPass:"user/changeEncryptPass"})),{},{closeDialog:function(){this.$emit("close")},submitForm:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return!1;e.saveLoading=!0,Object(i.k)(e.confirmForm).then((function(t){e.saveLoading=!1,e.$message({message:"密码正确，已显示所有分类（含加密）",type:"success",duration:4e3}),e.changeEncryptPass(e.confirmForm.password),e.$emit("close",1)})).catch((function(){e.saveLoading=!1}))}))}})},r=(a("0520"),a("56ea"),a("2877")),c=Object(r.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"confirm-pass-container"},[a("el-dialog",{staticClass:"confirm-pass-dialog",attrs:{visible:!0,"lock-scroll":!1,"show-close":!1},on:{close:t.closeDialog}},[a("div",{staticClass:"content-container clearfix"},[a("div",{staticClass:"banner fl"},[a("img",{attrs:{src:"/images/diy/decrypt.png"}}),a("div",{staticClass:"desc"},[a("p",{staticClass:"title"},[t._v("输入密码")]),a("p",{staticClass:"sm-title"},[t._v("显示加密分类")])])]),a("div",{staticClass:"details fr"},[a("p",[t._v("显示加密分类，请先输入您的加密密码。")]),a("div",{staticClass:"create-container"},[a("el-form",{ref:"confirmPassForm",staticClass:"create-pass-form",attrs:{model:t.confirmForm,rules:t.rules,"label-width":"90px"},nativeOn:{submit:function(t){t.preventDefault()}}},[a("el-form-item",{attrs:{label:"输入密码",prop:"password"}},[a("el-input",{ref:"inputPass",attrs:{type:"password",placeholder:"请输入加密密码"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submitForm("confirmPassForm")}},model:{value:t.confirmForm.password,callback:function(e){t.$set(t.confirmForm,"password",e)},expression:"confirmForm.password"}})],1),a("el-form-item",{staticClass:"confirm-create"},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:0===t.confirmForm.password.length,expression:"confirmForm.password.length === 0 "}],attrs:{disabled:"",type:"info"}},[t._v("验证密码")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.confirmForm.password.length>0,expression:"confirmForm.password.length > 0"}],attrs:{loading:t.saveLoading,type:"primary"},on:{click:function(e){return t.submitForm("confirmPassForm")}}},[t._v("验证密码")])],1)],1)],1)])])])],1)}),[],!1,null,"b5f79972",null);e.a=c.exports},f478:function(t,e,a){"use strict";a.d(e,"o",(function(){return i})),a.d(e,"n",(function(){return o})),a.d(e,"m",(function(){return n})),a.d(e,"j",(function(){return r})),a.d(e,"a",(function(){return c})),a.d(e,"f",(function(){return l})),a.d(e,"b",(function(){return d})),a.d(e,"g",(function(){return u})),a.d(e,"h",(function(){return f})),a.d(e,"i",(function(){return m})),a.d(e,"d",(function(){return h})),a.d(e,"c",(function(){return g})),a.d(e,"q",(function(){return p})),a.d(e,"p",(function(){return v})),a.d(e,"k",(function(){return y})),a.d(e,"l",(function(){return b})),a.d(e,"e",(function(){return C}));var s=a("b775");function i(){return Object(s.a)({url:"/navig/custom/userWebList",method:"post"})}function o(t){return Object(s.a)({url:"/navig/index/getUrlInfo",method:"post",data:t})}function n(){return Object(s.a)({url:"/navig/custom/getClass",method:"post"})}function r(t){return Object(s.a)({url:"/navig/custom/getAllClass",method:"post",data:t})}function c(t){return Object(s.a)({url:"/navig/custom/addClass",method:"post",data:t})}function l(t){return Object(s.a)({url:"/navig/custom/delClass",method:"post",data:t})}function d(t){return Object(s.a)({url:"/navig/custom/addSite",method:"post",data:t})}function u(t){return Object(s.a)({url:"/navig/custom/delSite",method:"post",data:t})}function f(t){return Object(s.a)({url:"/navig/custom/classSort",method:"post",data:t})}function m(t){return Object(s.a)({url:"/navig/custom/sort",method:"post",data:t})}function h(t){return Object(s.a)({url:"/navig/custom/collectionSite",method:"post",data:t})}function g(t){return Object(s.a)({url:"/navig/custom/collectionClass",method:"post",data:t})}function p(t){return Object(s.a)({url:"/navig/user/setClassPassword",method:"post",data:t})}function v(t){return Object(s.a)({url:"/navig/custom/setClassEncryption",method:"post",data:t})}function y(t){return Object(s.a)({url:"/navig/custom/getClassWebAll",method:"post",data:t})}function b(){return Object(s.a)({url:"/navig/custom/getShow",method:"post"})}function C(t){return Object(s.a)({url:"/navig/custom/customSearch",method:"post",data:t})}},fe19:function(t,e,a){}}]);